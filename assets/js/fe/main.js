"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){console.log("loading in widget helper d-aqi");var n=jQuery,i={targets:{},instance:{},readings:{},init:function(){this.define(),console.log("Loaded AQI widget",this)},define:function(){this.targets.widget=n("[data-aqinfo-widget]"),0<this.targets.widget.length&&(this.instance=JSON.parse(this.targets.widget.data("aqinfo")),this.build.aqi(),this.build.widget())},loading:{remove:function(){i.targets.widget.find(".d-loading").remove()}},build:{aqi:function(){var e=i.instance,t=i.AQI.aqiFromPM(e.p_2_5_um),n=i.AQI.getAQIDescription(t),e=i.AQI.getAQIMessage(t);i.readings.aqi=t,i.readings.desc=n,i.readings.mesg=e},widget:function(){var e=i.readings,t=i.targets.widget;i.loading.remove(),console.log("reading",e),t.find(".d-aqinfo--cir-index").html(e.aqi),t.find(".d-aqinfo--cir-title").html(e.desc),t.find(".d-aqinfo--popover").html(e.mesg),t.find(".d-aqinfo--cir").attr("data-aqinfo-ranking",e.desc.toLowerCase())}},AQI:{aqiFromPM:function(e){return isNaN(e)||null==e?"-":e<0?e:1e3<e?"-":350.5<e?i.AQI.calcAQI(e,500,401,500,350.5):250.5<e?i.AQI.calcAQI(e,400,301,350.4,250.5):150.5<e?i.AQI.calcAQI(e,300,201,250.4,150.5):55.5<e?i.AQI.calcAQI(e,200,151,150.4,55.5):35.5<e?i.AQI.calcAQI(e,150,101,55.4,35.5):12.1<e?i.AQI.calcAQI(e,100,51,35.4,12.1):0<=e?i.AQI.calcAQI(e,50,0,12,0):void 0},bplFromPM:function(e){return isNaN(e)||null==e||e<0?0:350.5<e?401:250.5<e?301:150.5<e?201:55.5<e?151:35.5<e?101:12.1<e?51:0},bphFromPM:function(e){return isNaN(e)||null==e||e<0?0:350.5<e||250.5<e?500:150.5<e?300:55.5<e?200:35.5<e?150:12.1<e?100:0<=e?50:0},calcAQI:function(e,t,n,i,o){return Math.round((t-n)/(i-o)*(e-o)+n)},getAQIDescription:function(e){return 401<=e||301<=e?"Hazardous":201<=e?"Very Unhealthy":151<=e?"Unhealthy":101<=e?"Unhealthy for Sensitive Groups":51<=e?"Moderate":0<=e?"Good":void 0},getAQIMessage:function(e){return 401<=e?">401: Health alert: everyone may experience more serious health effects":301<=e?"301-400: Health alert: everyone may experience more serious health effects":201<=e?"201-300: Health warnings of emergency conditions. The entire population is more likely to be affected. ":151<=e?"151-200: Everyone may begin to experience health effects; members of sensitive groups may experience more serious health effects.":101<=e?"101-150: Members of sensitive groups may experience health effects. The general public is not likely to be affected.":51<=e?"51-100: Air quality is acceptable; however, for some pollutants there may be a moderate health concern for a very small number of people who are unusually sensitive to air pollution.":0<=e?"0-50: Air quality is considered satisfactory, and air pollution poses little or no risk":void 0}}};n(function(){i.init()})}]);
//# sourceMappingURL=main.js.map
