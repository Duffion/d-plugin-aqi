{"version":3,"sources":["defdbdcd5930254a530a.js"],"names":["e","t","n","i","exports","o","l","call","m","c","d","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","_typeof","__esModule","create","bind","prototype","hasOwnProperty","p","s","console","log","jQuery","targets","instance","readings","init","this","define","widget","length","JSON","parse","data","build","aqi","_step","_iterator","_createForOfIteratorHelper","document","getElementsByClassName","done","addEventListener","clickAQI","err","f","loading","remove","find","AQI","aqiFromPM","pm2_5_atm","getAQIDescription","getAQIMessage","desc","mesg","html","attr","toLowerCase","window","open","isNaN","calcAQI","bplFromPM","bphFromPM","Math","round"],"mappings":"q4CAAC,SAASA,GAAG,IAAIC,EAAE,GAAG,SAASC,EAAEC,GAAG,GAAGF,EAAEE,GAAG,OAAOF,EAAEE,GAAGC,QAAQ,IAAIC,EAAEJ,EAAEE,GAAG,CAACA,EAAEA,EAAEG,GAAE,EAAGF,QAAQ,IAAI,OAAOJ,EAAEG,GAAGI,KAAKF,EAAED,QAAQC,EAAEA,EAAED,QAAQF,GAAGG,EAAEC,GAAE,EAAGD,EAAED,QAAQF,EAAEM,EAAER,EAAEE,EAAEO,EAAER,EAAEC,EAAEQ,EAAE,SAASV,EAAEC,EAAEE,GAAGD,EAAEG,EAAEL,EAAEC,IAAIU,OAAOC,eAAeZ,EAAEC,EAAE,CAACY,YAAW,EAAGC,IAAIX,KAAKD,EAAEa,EAAE,SAASf,GAAG,oBAAoBgB,QAAQA,OAAOC,aAAaN,OAAOC,eAAeZ,EAAEgB,OAAOC,YAAY,CAACC,MAAM,WAAWP,OAAOC,eAAeZ,EAAE,aAAa,CAACkB,OAAM,KAAMhB,EAAED,EAAE,SAASD,EAAEC,GAAG,GAAG,EAAEA,IAAID,EAAEE,EAAEF,IAAI,EAAEC,EAAE,OAAOD,EAAE,GAAG,EAAEC,GAAG,UAAAkB,QAAiBnB,IAAGA,GAAGA,EAAEoB,WAAW,OAAOpB,EAAE,IAAIG,EAAEQ,OAAOU,OAAO,MAAM,GAAGnB,EAAEa,EAAEZ,GAAGQ,OAAOC,eAAeT,EAAE,UAAU,CAACU,YAAW,EAAGK,MAAMlB,IAAI,EAAEC,GAAG,iBAAiBD,EAAE,IAAI,IAAIK,KAAKL,EAAEE,EAAEQ,EAAEP,EAAEE,EAAE,SAASJ,GAAG,OAAOD,EAAEC,IAAIqB,KAAK,KAAKjB,IAAI,OAAOF,GAAGD,EAAEA,EAAE,SAASF,GAAG,IAAIC,EAAED,GAAGA,EAAEoB,WAAW,WAAW,OAAOpB,EAAC,SAAU,WAAW,OAAOA,GAAG,OAAOE,EAAEQ,EAAET,EAAE,IAAIA,GAAGA,GAAGC,EAAEG,EAAE,SAASL,EAAEC,GAAG,OAAOU,OAAOY,UAAUC,eAAejB,KAAKP,EAAEC,IAAIC,EAAEuB,EAAE,GAAGvB,EAAEA,EAAEwB,EAAE,GAA14B,CAA84B,CAAC,SAAS1B,EAAEC,GAAG0B,QAAQC,IAAI,kCAAkC,IAAI1B,EAAE2B,OAAO1B,EAAE,CAAC2B,QAAQ,GAAGC,SAAS,GAAGC,SAAS,GAAGC,KAAK,WAAWC,KAAKC,SAASR,QAAQC,IAAI,oBAAoBM,OAAOC,OAAO,WAAW,GAAGD,KAAKJ,QAAQM,OAAOlC,EAAE,wBAAmD,EAA3BgC,KAAKJ,QAAQM,OAAOC,OAAS,CAACH,KAAKH,SAASO,KAAKC,MAAML,KAAKJ,QAAQM,OAAOI,KAAK,WAAWN,KAAKO,MAAMC,MAAMR,KAAKO,MAAML,SAAS,IAAnGO,EAAAC,EAAAC,2BAAyGC,SAASC,uBAAuB,qBAAzI,IAA6J,IAAAH,EAAAlB,MAAAiB,EAAAC,EAAA1C,KAAA8C,MAAAL,EAAAzB,MAAmB+B,iBAAiB,QAAQf,KAAKgB,UAAS,GAAvN,MAAAC,GAAAP,EAAA5C,EAAAmD,GAAA,QAAAP,EAAAQ,OAA6NC,QAAQ,CAACC,OAAO,WAAWnD,EAAE2B,QAAQM,OAAOmB,KAAK,cAAcD,WAAWb,MAAM,CAACC,IAAI,WAAW,IAAI1C,EAAEG,EAAE4B,SAAS9B,EAAEE,EAAEqD,IAAIC,UAAUzD,EAAE0D,WAAWxD,EAAEC,EAAEqD,IAAIG,kBAAkB1D,GAAGI,EAAEF,EAAEqD,IAAII,cAAc3D,GAAGE,EAAE6B,SAASU,IAAIzC,EAAEE,EAAE6B,SAAS6B,KAAK3D,EAAEC,EAAE6B,SAAS8B,KAAKzD,GAAG+B,OAAO,WAAW,IAAIpC,EAAEG,EAAE6B,SAAS/B,EAAEE,EAAE2B,QAAQM,OAAOjC,EAAEkD,QAAQC,SAAS3B,QAAQC,IAAI,UAAU5B,GAAGC,EAAEsD,KAAK,wBAAwBQ,KAAK/D,EAAE0C,KAAKzC,EAAEsD,KAAK,wBAAwBQ,KAAK/D,EAAE6D,MAAM5D,EAAEsD,KAAK,sBAAsBQ,KAAK/D,EAAE8D,MAAM7D,EAAEsD,KAAK,kBAAkBS,KAAK,sBAAsBhE,EAAE6D,KAAKI,eAAehE,EAAEsD,KAAK,yBAAyBS,KAAK,sBAAsBhE,EAAE6D,KAAKI,iBAAiBf,SAAS,SAASlD,GAAGkE,OAAOC,KAAK,4GAA4G,WAAWX,IAAI,CAACC,UAAU,SAASzD,GAAG,OAAOoE,MAAMpE,IAAI,MAAMA,EAAE,IAAIA,EAAE,EAAEA,EAAI,IAAFA,EAAM,IAAM,MAAFA,EAAQG,EAAEqD,IAAIa,QAAQrE,EAAE,IAAI,IAAI,IAAI,OAAS,MAAFA,EAAQG,EAAEqD,IAAIa,QAAQrE,EAAE,IAAI,IAAI,MAAM,OAAS,MAAFA,EAAQG,EAAEqD,IAAIa,QAAQrE,EAAE,IAAI,IAAI,MAAM,OAAS,KAAFA,EAAOG,EAAEqD,IAAIa,QAAQrE,EAAE,IAAI,IAAI,MAAM,MAAQ,KAAFA,EAAOG,EAAEqD,IAAIa,QAAQrE,EAAE,IAAI,IAAI,KAAK,MAAQ,KAAFA,EAAOG,EAAEqD,IAAIa,QAAQrE,EAAE,IAAI,GAAG,KAAK,MAAS,GAAHA,EAAKG,EAAEqD,IAAIa,QAAQrE,EAAE,GAAG,EAAE,GAAG,QAAG,GAAQsE,UAAU,SAAStE,GAAG,OAAOoE,MAAMpE,IAAI,MAAMA,GAAGA,EAAE,EAAE,EAAI,MAAFA,EAAQ,IAAM,MAAFA,EAAQ,IAAM,MAAFA,EAAQ,IAAM,KAAFA,EAAO,IAAM,KAAFA,EAAO,IAAM,KAAFA,EAAO,GAAG,GAAGuE,UAAU,SAASvE,GAAG,OAAOoE,MAAMpE,IAAI,MAAMA,GAAGA,EAAE,EAAE,EAAI,MAAFA,GAAW,MAAFA,EAAQ,IAAM,MAAFA,EAAQ,IAAM,KAAFA,EAAO,IAAM,KAAFA,EAAO,IAAM,KAAFA,EAAO,IAAO,GAAHA,EAAK,GAAG,GAAGqE,QAAQ,SAASrE,EAAEC,EAAEC,EAAEC,EAAEE,GAAyB,OAAOmE,KAAKC,OAA5BxE,EAAEC,IAAIC,EAAEE,IAAIL,EAAEK,GAA0BH,IAAIyD,kBAAkB,SAAS3D,GAAG,OAAU,KAAHA,GAAW,KAAHA,EAAO,YAAe,KAAHA,EAAO,iBAAoB,KAAHA,EAAO,YAAe,KAAHA,EAAO,iCAAoC,IAAHA,EAAM,WAAc,GAAHA,EAAK,YAAO,GAAQ4D,cAAc,SAAS5D,GAAG,OAAU,KAAHA,EAAO,0EAA6E,KAAHA,EAAO,6EAAgF,KAAHA,EAAO,0GAA6G,KAAHA,EAAO,oIAAuI,KAAHA,EAAO,uHAA0H,IAAHA,EAAM,yLAA4L,GAAHA,EAAK,+FAA0F,KAAUE,EAAG,WAAWC,EAAE8B","file":"main.js","sourcesContent":["!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t){console.log(\"loading in widget helper d-aqi\");let n=jQuery,i={targets:{},instance:{},readings:{},init:function(){this.define(),console.log(\"Loaded AQI widget\",this)},define:function(){if(this.targets.widget=n(\"[data-aqinfo-widget]\"),this.targets.widget.length>0){this.instance=JSON.parse(this.targets.widget.data(\"aqinfo\")),this.build.aqi(),this.build.widget();var e=document.getElementsByClassName(\"d-aqinfo--bubble\");for(const t of e)t.addEventListener(\"click\",this.clickAQI,!1)}},loading:{remove:function(){i.targets.widget.find(\".d-loading\").remove()}},build:{aqi:function(){var e=i.instance,t=i.AQI.aqiFromPM(e.pm2_5_atm),n=i.AQI.getAQIDescription(t),o=i.AQI.getAQIMessage(t);i.readings.aqi=t,i.readings.desc=n,i.readings.mesg=o},widget:function(){var e=i.readings,t=i.targets.widget;i.loading.remove(),console.log(\"reading\",e),t.find(\".d-aqinfo--cir-index\").html(e.aqi),t.find(\".d-aqinfo--cir-title\").html(e.desc),t.find(\".d-aqinfo--popover\").html(e.mesg),t.find(\".d-aqinfo--cir\").attr(\"data-aqinfo-ranking\",e.desc.toLowerCase()),t.find(\".d-aqinfo--cir-bottom\").attr(\"data-aqinfo-ranking\",e.desc.toLowerCase())}},clickAQI:function(e){window.open(\"https://www.purpleair.com/map?opt=1/mAQI/a10/cC0&key=ONG0MQF1Y4RY4IHO&select=85827#14/39.31224/-120.15584\",\"_blank\")},AQI:{aqiFromPM:function(e){return isNaN(e)||null==e?\"-\":e<0?e:e>1e3?\"-\":e>350.5?i.AQI.calcAQI(e,500,401,500,350.5):e>250.5?i.AQI.calcAQI(e,400,301,350.4,250.5):e>150.5?i.AQI.calcAQI(e,300,201,250.4,150.5):e>55.5?i.AQI.calcAQI(e,200,151,150.4,55.5):e>35.5?i.AQI.calcAQI(e,150,101,55.4,35.5):e>12.1?i.AQI.calcAQI(e,100,51,35.4,12.1):e>=0?i.AQI.calcAQI(e,50,0,12,0):void 0},bplFromPM:function(e){return isNaN(e)||null==e||e<0?0:e>350.5?401:e>250.5?301:e>150.5?201:e>55.5?151:e>35.5?101:e>12.1?51:0},bphFromPM:function(e){return isNaN(e)||null==e||e<0?0:e>350.5||e>250.5?500:e>150.5?300:e>55.5?200:e>35.5?150:e>12.1?100:e>=0?50:0},calcAQI:function(e,t,n,i,o){var r=t-n,a=i-o,l=e-o;return Math.round(r/a*l+n)},getAQIDescription:function(e){return e>=401||e>=301?\"Hazardous\":e>=201?\"Very Unhealthy\":e>=151?\"Unhealthy\":e>=101?\"Unhealthy for Sensitive Groups\":e>=51?\"Moderate\":e>=0?\"Good\":void 0},getAQIMessage:function(e){return e>=401?\">401: Health alert: everyone may experience more serious health effects\":e>=301?\"301-400: Health alert: everyone may experience more serious health effects\":e>=201?\"201-300: Health warnings of emergency conditions. The entire population is more likely to be affected. \":e>=151?\"151-200: Everyone may begin to experience health effects; members of sensitive groups may experience more serious health effects.\":e>=101?\"101-150: Members of sensitive groups may experience health effects. The general public is not likely to be affected.\":e>=51?\"51-100: Air quality is acceptable; however, for some pollutants there may be a moderate health concern for a very small number of people who are unusually sensitive to air pollution.\":e>=0?\"0-50: Air quality is considered satisfactory, and air pollution poses little or no risk\":void 0}}};n((function(){i.init()}))}]);"]}